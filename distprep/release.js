var Ba="function"==typeof Object.defineProperties?Object.defineProperty:function(l,u,v){if(l==Array.prototype||l==Object.prototype)return l;l[u]=v.value;return l};function Ca(l){l=["object"==typeof globalThis&&globalThis,l,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var u=0;u<l.length;++u){var v=l[u];if(v&&v.Math==Math)return v}throw Error("Cannot find global object");}var Da=Ca(this);
function A(l,u){if(u)a:{var v=Da;l=l.split(".");for(var t=0;t<l.length-1;t++){var B=l[t];if(!(B in v))break a;v=v[B]}l=l[l.length-1];t=v[l];u=u(t);u!=t&&null!=u&&Ba(v,l,{configurable:!0,writable:!0,value:u})}}function D(l){l=Math.trunc(l)||0;0>l&&(l+=this.length);if(!(0>l||l>=this.length))return this[l]}A("Array.prototype.at",function(l){return l?l:D});function X(l){return l?l:D}A("Int8Array.prototype.at",X);A("Uint8Array.prototype.at",X);A("Uint8ClampedArray.prototype.at",X);
A("Int16Array.prototype.at",X);A("Uint16Array.prototype.at",X);A("Int32Array.prototype.at",X);A("Uint32Array.prototype.at",X);A("Float32Array.prototype.at",X);A("Float64Array.prototype.at",X);A("String.prototype.at",function(l){return l?l:D});
(()=>{function l(a,b,c="source-atop"){let d=q(a.width,a.height),e=d.getContext("2d");return e.drawImage(a,0,0),e.globalCompositeOperation=c,e.fillStyle=b,e.fillRect(0,0,d.width,d.height),d}function u(a,b){let c=q(a.width+b.width,a.height+b.height),d=c.getContext("2d");return d.drawImage(a,0,0),d.drawImage(a,a.width,b.height),d.drawImage(b,a.width,0),d.drawImage(b,0,a.height),c}function v(a,b,c=0){0==c&&(c=b);var d=q(a.width*c,a.height*b),e=d.getContext("2d");for(let f=0;f<b;f++)for(let h=0;h<c;h++)e.drawImage(a,
h*a.width,f*a.height);return d}function t(a,b){let c=q(a.width,a.height),d=c.getContext("2d");return d.globalAlpha=b,d.drawImage(a,0,0),d.globalAlpha=1,c}function B(a,b,c,d=!1){var e=q(b,c),f=e.getContext("2d");return d&&f.fillRect(0,0,b,c),f.drawImage(a,b/2-a.width/2,c/2-a.height/2),e}function E(a){return 1E9<a?parseInt(a/1E6)+"B":1E6<a?parseInt(a/1E6)+"M":1E3<a?parseInt(a/1E3)+"K":a}function p(a,b,c,d){let e=ia("#spriteSheetMain");a=Y(e,8*a,8*b,8*c,8*d);return Z(a,f=>"#ffffff"===f?"":f)}function ja(a,
b){for(var c=0;c<a.length;c++)for(var d=0;d<a[c].length;d++)b(a[d][c],c,d)}class Ea{constructor(a=1/30,b,c=!1){this.at=0;this.Ua=null;this.ib=a;this.t=b;c&&this.start();this.p=this.$a=!1}Jc(a){if(this.Ua)for(this.at+=(a-this.Ua)/1E3,1<this.at&&(this.at=1);this.at>this.ib;){this.t.update(Math.floor(a/1E3));this.at-=this.ib;break}this.Ua=a;this.$a||this.Ab()}Ab(){requestAnimationFrame(a=>{this.Jc(a)})}start(){this.$a=!1;this.Ab()}stop(){this.$a=!0}}class P{constructor(a){this.s=a;this.xa=[]}update(a){this.time=
a;[...this.xa].forEach(b=>{b.update&&b.update(a)});this.xa=this.xa.filter(b=>!b.delete)}v(a){a.clearRect(0,0,a.canvas.width,a.canvas.height);a.fillStyle="black";a.fillRect(0,0,a.canvas.width,a.canvas.height);[...this.xa].forEach(b=>{b.v&&b.v(a)})}notify(a){let b=a.name;a=a.event;"keydown"==b&&this.la?this.la(a):"keyup"==b&&this.aa?this.aa(a):"mousemove"==b&&this.lc||("click"==b&&this.click?this.click(a):"control"==b&&this.control?this.control(a.key):"controlts"==b&&this.Hb?this.Hb(a.key):"controlte"==
b&&this.Gb?this.Gb(a.key):console.log(b))}lc(){}aa(a){this.control(a.key)}}const Fa=Math.PI,ia=(a,b=document)=>b.querySelector(a),Q=a=>0>a?-a:a,K=(a=1,b=0)=>0|((c=1,d=0)=>d+(c-d)*Math.random())(a,b),q=(a=0,b=0)=>{let c=document.createElement("canvas");return c.width=a,c.height=b,c},R=(a,b,c=!0)=>((d,e,f=!0)=>{var h,k,m,n;f&&0!=e%(Math.PI/4)?(m=d.width,n=d.height,h=k=Math.sqrt(m*m+n*n)):(h=d.width,k=d.height);f=q(h,k);m=f.getContext("2d");h/=2;k/=2;return m.imageSmoothingQuality="high",m.save(),m.translate(h,
k),m.rotate(e),m.drawImage(d,0,0,d.width,d.height,-d.width/2,-d.height/2,d.width,d.height),m.restore(),f})(a,(b%=8)*Fa/4,c),Y=(a,b,c,d,e)=>{let f=q(d,e);return f.getContext("2d").drawImage(a,b,c,d,e,0,0,d,e),f},g=(a,b=1,c=null)=>{let d=a.length,e=Math.max(...a.map(m=>m.length));var f=q(e*b,d*b),h=f.getContext("2d");for(let m=0;m<d;m++)for(let n=0;n<e;n++){var k=a[m][n];c&&(k=c(k));k&&""!=k&&(h.fillStyle=k,h.fillRect(n*b,m*b,b,b))}return f},Z=(a,b)=>{for(var c=a.getContext("2d").getImageData(0,0,a.width,
a.height).data,d=[],e=0;e<c.length;e+=4){var f=d,h=f.push;var k=c[e];var m=c[e+1],n=c[e+2];k=0==k+m+n+c[e+3]?null:0==k+m+n||255<k||255<m||255<n?"#000000":"#"+((k<<16)+(m<<8)+n).toString(16).padStart(6,"0");h.call(f,k)}c=[];for(e=0;e<a.height;e++)c[e]=[];f=e=0;for(h=0;h<d.length;h++)e>=a.width&&(f++,e=0),c[f][e]=d[h],b&&(c[f][e]=b(c[f][e])),e++;return c},x=(a,b,c="source-atop")=>{let d=q(a.width,a.height),e=d.getContext("2d");e.drawImage(a,0,0);e.globalCompositeOperation=c;for(c=0;c<a.width/b.width;c++)for(let f=
0;f<a.height/b.height;f++)e.drawImage(b,c*b.width,f*b.height);return d},ka=(a,b=!0)=>{let c=q(a.width,a.height),d=c.getContext("2d");return d.save(),b?(d.scale(-1,1),d.drawImage(a,0,0,-1*a.width,a.height)):(d.scale(1,-1),d.drawImage(a,0,0,a.width,-1*a.height)),d.restore(),c},L=a=>{var b=q(a[0].width,a[0].height),c=b.getContext("2d");for(let d in a)c.drawImage(a[d],0,0);return b};class C{constructor(){}static get(a,b,c,d,e="Arial",f=0,h=0){let k=q(1,1).getContext("2d");k.font=b+"px "+e;f=q(parseInt(f||
k.measureText(a).width||1),h||b+2);k=f.getContext("2d");k.font=b+"px "+e;k.fillStyle=c;k.fillText(a,0,b-2);d&&(f=x(f,d));a=q(f.width,f.height);b=a.getContext("2d");return b.fillStyle="#ffffff",b.drawImage(f,0,0),a}}var Ga=p(0,0,1,1),Ha=p(1,0,1,1),Ia=p(2,0,1,1),Ja=p(3,0,1,1),Ka=p(4,0,1,1),la=p(0,1,1,1),ma=p(1,1,1,1),na=p(2,1,1,1),La=p(3,1,1,1),oa=p(4,1,1,1),pa=p(0,2,1,1),Ma=p(1,2,1,1),Na=p(2,2,1,1),qa=p(0,3,1,1),ra=p(1,3,2,1),S=p(9,0,4,4),aa=p(3,2,2,2),ba=p(0,4,2,2),sa=p(2,4,2,2),ta=p(4,4,1,2),Oa=
p(5,4,1,2),ua=p(6,4,1,2),va=p(7,4,2,2),wa=p(9,4,2,2),ca=p(5,0,2,2),da=p(5,2,2,2),ea=p(7,0,2,2),xa=p(7,2,2,2),Pa=p(11,4,1,1),Qa=p(0,6,2,2),Ra=p(2,6,2,2),Sa=p(4,6,2,2),Ta=p(6,6,2,2),Ua=p(8,6,2,2),Va=p(10,6,2,2),F=g(Ga,1),G=g(Ha,1),M=g(Ia,1),H=g(Ja,1),fa=g(Ka,1);g(la,1);g(ma,1);g(na,1);var T=g(La,1);g(oa,1);g(pa,1);var Wa=g(Ma,1),Xa=g(Na,1);g(qa,1);g(ra,1);g(S,1);g(aa,1);var ya=g(ba,1);g(sa,1);g(ta,1);g(Oa,1);g(ua,1);g(va,1);g(wa,1);g(ca,1);g(da,1);g(ea,1);g(xa,1);var Ya=g(Pa,1),ha=g(Qa,1),Za=g(Ra,1),
$a=g(Sa,1),ab=g(Ta,1),bb=g(Ua,1),cb=g(Va,1);g(S,2);g(ca,2);g(da,2);g(aa,2);class db{constructor(a,b=2){this.h=a;a=g(S,b);b=Z(a);var c=b.flat(),d=[...(new Set(c))];c={};for(f of d)for(c[f]=[],d=0;d<b.length;d++){c[f].push([]);for(var e=0;e<b[d].length;e++)b[d][e]===f?c[f][d][e]="#000000":c[f][d][e]=null}var f=(delete c.Oc,c);var h=g(f["#6a6a6a"]),k=g(f["#c2c2c2"]);f=x(h,t(F,.5));b=x(h,t(G,.5));c=x(h,t(M,.5));d=x(h,t(fa,.5));e=x(h,t(H,.5));h=x(h,t(T,.5));var m=x(k,t(F,.2)),n=x(k,t(G,.2)),w=x(k,t(M,
.2)),y=x(k,t(fa,.2)),z=x(k,t(H,.2));k=x(k,t(T,.2));this.Ca=L([a,m,f]);this.ka=L([a,n,b]);this.ea=L([a,w,c]);this.Fb=L([a,y,d]);this.ab=L([a,z,e]);this.Va=L([a,k,h])}update(a){this.time=a}}class eb extends P{constructor(a){super(a);a=u(F,G);var b=u(H,F);this.$=new db(this);this.i=g(ba,2);this.Ra=function(c,d,e,f,h=1){1<h&&(c=v(c,h),d=v(d,h));c=u(c,d);d=q(c.width*f,c.height*e);h=d.getContext("2d");for(let k=0;k<e;k++)for(let m=0;m<f;m++)h.drawImage(c,k*c.height,m*c.width);return d}(a,b,this.s.canvas.width/
8,this.s.canvas.height/8);this.Ra=t(this.Ra,.2);this.log=this.Wb();this.buffer=this.ha();this.ma=-20;this.Sa=this.Vb()}Wb(){var a=q(400,200),b=a.getContext("2d"),c=u(F,G),d=u(H,H),e=u(G,M),f=u(M,F);return this.T=[C.get("13th CENTURY\u2122",20,"green",f,"Arial Black"),C.get("ROBIN\u27b8HOOD ",40,"green",c,"Arial Black"),C.get("THE\u27b8OUTLAW ",28,"green",d,"Arial Black"),C.get("\u26051370s\u2235\u2234\u2235\u2234\u2235\u2234\u2235\u2234\u2235\u2234\u2235\u2234\u22352023\u2605",15,"green",e,"Arial Black")],
b.drawImage(l(this.T[0],"white"),0,1),b.drawImage(this.T[0],1,1),b.drawImage(l(this.T[1],"red"),1,18),b.drawImage(this.T[1],0,17),b.drawImage(l(this.T[2],"white"),85,53),b.drawImage(this.T[2],85,52),b.drawImage(this.T[3],82,82),a}Vb(){var a="you step into the legendary shoes of Robin Hood.;your mission is to make the world a better place.;- explore forest and hunt animals;- do quests and trade with merchants;- spread the wealth to the poor;- improve your stats and defend the village;a w s d / arrows for movement;e interact, q menue, space fire;explore forest hunt animal;trade with merchants;- give goodies to villagers for free (gain morale);- take quests from villagers for extra love;find old wizzard for a magic bow;more instructions can be learned in game".split(";"),
b=q(360,500);let c=b.getContext("2d");c.fillStyle="white";c.font="16px Arial";for(let d=0;d<a.length;d++)c.fillText(a[d],0,25*d+20);return b}update(a){this.time=a;this.ma+=.8}ha(){let a=q(this.s.F.width,this.s.F.height),b=a.getContext("2d");b.drawImage(this.Ra,0,0);return b.drawImage(this.log,400>this.s.F.width?16:128,74),a}v(a){let b=20;a.clearRect(0,0,a.canvas.width,a.canvas.height);a.fillStyle="black";a.fillRect(0,0,a.canvas.width,a.canvas.height);a.drawImage(this.buffer,0,0);a.fillStyle="green";
a.font="16px Arial";a.fillText("Time "+this.time,20,b);a.fillText("use any key to load menu ",20,b+20);a.drawImage(this.$.Ca,16,192);a.drawImage(this.$.ka,88,192);a.drawImage(this.$.ea,160,192);a.drawImage(this.$.Fb,232,192);a.drawImage(this.$.ab,304,192);a.drawImage(this.$.Va,376,192);a.drawImage(this.i,16,320);a.drawImage(Y(this.Sa,0,this.ma%this.Sa.height,this.Sa.width,200),64,320)}Fa(){100<this.ma&&this.s.Ia();this.ma=100}control(){this.Fa()}click(){this.Fa()}la(){this.Fa()}aa(){this.Fa()}}class fb{constructor(a,
b=300,c=!0,d=!0,e=3){this.L=a;this.Ec=b;this.loop=e;this.pitch=d;this.pa=!1;this.O=new AudioContext;this.ub=this.L;c&&this.start()}toggle(){this.pa?this.stop():this.start()}start(){this.pa=!0;this.zb()}stop(){this.pa=!1}reset(){this.L=this.ub}$b(a){switch(a){case "B":return 493.88;case "C":return 261.63;case "D":return 293.66;case "E":return 329.63;case "F":return 349.23;case "G":return 392}return 440}Sb(a){var b=this.$b(a[0]);return 1<a.length?b*Math.pow(2,a[1]/12):b}zb(){if(this.pa)if(0===this.L.length&&
0<this.loop&&(this.L=this.ub,this.loop--),0===this.L.length)this.stop();else{var a=this.L[0];this.pitch?(this.L[1],this.L=this.L.slice(2)):this.L=this.L.slice(1);var b=this.O.createOscillator(),c=this.O.createGain();b.connect(c);c.connect(this.O.destination);b.frequency.setValueAtTime(this.Sb(a),this.O.currentTime);b.start();c.gain.setValueAtTime(0,this.O.currentTime);c.gain.exponentialRampToValueAtTime(.05,this.O.currentTime+.02);setTimeout(()=>{c.gain.setValueAtTime(.05,this.O.currentTime);c.gain.exponentialRampToValueAtTime(.001,
this.O.currentTime+.02);b.stop(this.O.currentTime+.02);this.zb()},60/this.Ec*1E3)}}}class gb extends P{constructor(a){super(a);this.D={ab:H,ea:M,ka:G,Ca:F,Va:T,i:ya};this.X=400>this.s.F.width?32:100;this.j=[{x:this.X,y:128},{x:this.X,y:160},{x:this.X,y:192},{x:this.X,y:224}];this.oa="robin hood";this.u=0;this.sa=!1;this.buffer=this.Dc()}Dc(){var a=q(this.s.F.width,this.s.F.height);return a.getContext("2d"),a}update(a){this.time=a;this.s.A&&4==this.j.length&&this.j.push({x:this.X,y:256})}v(a){a.clearRect(0,
0,a.canvas.width,a.canvas.height);a.fillStyle="black";a.fillRect(0,0,a.canvas.width,a.canvas.height);a.fillStyle="green";a.font="16px Arial";a.drawImage(this.buffer,0,0);a.drawImage(C.get("\u2588 \u24c5\u24c1\u24b6\u24ce \u24bc\u24b6\u24c2\u24ba",24,"green",this.D.ka,"Verdana"),this.j[0].x+20,this.j[0].y);a.drawImage(C.get("\u2588 SOUND : "+(this.sa&&1==this.sa?"on":"off"),24,"green",this.D.ea,"Verdana"),this.j[1].x+20,this.j[1].y);a.drawImage(C.get("\u2588 Music : "+(this.ca&&this.ca.pa?"on":"off"),
24,"green",this.D.ea,"Verdana"),this.j[2].x+20,this.j[2].y);a.drawImage(C.get(`\u2588 NAME : ${this.oa}`,24,"green",this.D.ea,"Verdana"),this.j[3].x+20,this.j[3].y);this.s.A&&this.j[4]&&a.drawImage(C.get("\u2588 STATS \u32e1",24,"green",this.D.Ca,"Roboto"),this.j[4].x+20,this.j[4].y);a.drawImage(this.D.i,this.j[this.u].x,this.j[this.u].y+4);a.fillText("Time "+this.time,20,20)}click(){}control(a){if("s"===a||"ArrowDown"===a)this.u=Q(this.u+1)%this.j.length;else if("w"===a||"ArrowUp"===a)0==this.u?
this.u=this.j.length-1:this.u=Q(this.u-1)%this.j.length;else if("a"===a||"ArrowLeft"===a||"d"===a||"ArrowRight"===a||"space"===a||" "===a)0==this.u?this.s.Gc():1==this.u?this.sa?this.sa=!1:this.sa=!0:2==this.u?(this.ca||(this.ca=new fb("E4E4D4E4E4D4E4G4G4A4A4E4E4D4E4E4D4E4G4G4A4A4G4G4E4E4D4E4E4D4E4A4A4",120,!1,!0,2E3)),this.ca.toggle()):3==this.u?this.oa=(a=prompt("name",this.oa))&&0<a.length?a.substring(0,10):this.oa:4==this.u&&(this.ca&&this.ca.stop(),this.s.Ic())}la(){}aa(a){this.control(a.key)}}
class r{constructor(a,b){this.x=a;this.y=b}is(a){let b=this.y,c=a.y;return this.x==a.x&&b==c}I(a){if(!a)return 1/0;let b=this.x,c=this.y,d=a.x;a=a.y;if(b==d&&c==a)return 0;if(b==d)return Math.abs(c-a);if(c==a)return Math.abs(b-d);let e=0;return e+=Math.pow(b-d,2),e+=Math.pow(c-a,2),e=Math.sqrt(e),e}Oa(a){let b=this.x,c=this.y,d=a.x;a=a.y;return b==d&&c==a?4:b>d?6:b<d?2:c<a?4:c>a?0:4}sb(a,b){let c=this.clone();return c.move(a,b),c}move(a,b){0==a?this.y-=b:4==a?this.y+=b:6==a?this.x-=b:2==a?this.x+=
b:7==a?(this.y-=b,this.x-=b):1==a?(this.y-=b,this.x+=b):3==a?(this.y+=b,this.x+=b):5==a&&(this.y+=b,this.x-=b)}sb(a,b){let c=this.clone();return c.move(a,b),c}nc(a,b){let c=a.x-this.x,d=a.y-this.y,e=Math.sqrt(c*c+d*d);e<b?(this.x=a.x,this.y=a.y):(this.x+=(c/e||0)*b,this.y+=(d/e||0)*b)}clone(){return new r(this.x,this.y)}v(a,b="red"){a.fillStyle=b;this.Na(a,3,b)}Na(a,b=4,c="green"){a.fillStyle=c;a.strokeStyle=c;a.beginPath();a.arc(this.x,this.y,b,0,2*Math.PI);a.fill()}static Na(a,b,c,d=1,e="green"){a.fillStyle=
e;a.strokeStyle=e;a.beginPath();a.arc(b,c,d,0,2*Math.PI);a.fill()}}const U=[{V:25,attack:1,m:1,name:"rabbit"},{V:25,attack:4,m:5,name:"wolf"},{V:25,attack:10,m:8,name:"deer"},{V:25,attack:20,m:10,name:"bear"},{V:25,attack:15,m:10,name:"npcman"},{V:25,attack:10,m:10,name:"npcgirl"}];class I{constructor(a,b=0,c=null){this.type=b;this.h=a;this.D=this.ia();this.l=this.D[this.type];this.g=c||a.Lb();this.m=U[this.type].m;this.ba=U[this.type].m;this.Xa=U[this.type].V;this.W=[]}mc(){var a=this.h.o;const b=
this.h.xb.kb(this.g.x/a,this.g.y/a,this.h.i.g.x/a,this.h.i.g.y/a);b&&2<=b.length?this.g=new r(b[1][0]*a,b[1][1]*a):console.log("no visible path to player")}update(a){this.time=a;this.Xa--;0>=this.Xa&&(this.Xa=U[this.type].V-this.h.H,this.mc(),this.g.I(this.h.i.g)<2*this.h.o&&(this.h.i.m-=this.type+1,this.h.i.Bb=10))}Pa(){var a=q(this.l.width,3),b=a.getContext("2d");b.fillStyle="green";return b.fillRect(0,0,this.m/this.ba*this.l.width,3),a}v(a){a.drawImage(this.l,this.g.x,this.g.y);this.m<this.ba&&
a.drawImage(this.Pa(),this.g.x,this.g.y)}ia(){if(I.S)return I.S;var a=this.h.M,b=this.h.o,c=B(g(qa,a),b,b,!1),d=B(g(ra,a),b,b,!1),e=B(g(wa,a),b,b,!1),f=g(va,a),h=g(ea,a),k=g(xa,a);a=g(la,a);this.K=this.w=b;return I.S=[c,d,e,f,h,k,a],I.S}}class hb extends I{constructor(a,b=null){super(a,5,b);this.R=0;this.na=K(2,5)}Ga(){console.log("interacting with player");this.dc()}dc(){var a=K(this.R+this.h.H,this.R+this.h.H+this.na),b=K(this.R+this.h.H,this.R+this.h.H+this.na);console.log(`quest ${[a,b]}`);confirm(`Hello Robin, i have a quest for you,\nplease bring me ${a} apples and ${b} oranges for ${this.na+
this.h.H} points\n        `)&&(this.h.i.da>=b&&this.h.i.Z>=a?(this.h.i.da-=b,this.h.i.Z-=a,this.h.i.points+=this.na+this.h.H,this.R++):alert("you dont have enough, trade with merchant in village"))}update(){}v(a){a.drawImage(this.l,this.g.x,this.g.y)}}class ib extends I{constructor(a,b=null){super(a,5,b);this.l=this.Ea();this.R=0;this.na=1}Ea(){return g(ea,this.h.M,a=>"#bf0a0a"==a||"#990000"==a?"#76428a":a)}Ga(){console.log("interacting with player");this.Qa()}Qa(){var a=this.h.H,b=this.R+this.h.H,
c=K(a,b);a=K(a,b);b=this.h.H*(c+a);confirm(`Hello Robin, trade offer,\n${c} apples and ${a} oranges for ${b} $`)&&(this.h.i.U>=b?(this.h.i.da+=a,this.h.i.Z+=c,this.h.i.U-=b,this.R++):alert("you dont have enough cash, try hunting some animals"))}update(){}v(a){a.drawImage(this.l,this.g.x,this.g.y)}}class jb extends I{constructor(a,b=null){super(a,5,b);this.l=this.Ea()}Ea(){var a=g(ua,this.h.M,b=>b);return B(a,this.h.o,this.h.o)}Ga(){console.log("interacting with player");this.Qa()}Qa(){confirm("Hello Robin, I offer you the magic bow for 1000000 $")&&
(1E6<=this.h.i.U?alert("you have your skills, you dont need a magic bow"):alert("you dont have enough cash, try hunting some animals"))}update(){}v(a){a.drawImage(this.l,this.g.x,this.g.y)}}const V=[{n:"tree",C:1,c:"#0d3702"},{n:"brick",C:1,c:"#bf0a0a"},{n:"dirt",C:0,c:"#d9a066"},{n:"grass",C:0,c:"#99e550"},{n:"water",C:2,c:"#8a99f6"},{n:"steel",C:1,c:"#6a6a6a"},{n:"snow",C:0,c:"#dcdcdc"},{n:"player",C:0,c:"#130c40"},{n:"villager",C:1,c:"#fff300"},{n:"merchant",C:1,c:"#76428a"},{n:"wizzard",C:1,c:"#191919"},
{n:"army",C:0,c:"#ff0000"},{n:"cave",C:1,c:"#2e2b2b"},{n:"deerspawnpoint",C:0,c:"#df7126"},{n:"rabbitspawnpoint",C:0,c:"#d1d1d1"},{n:"wolfspawnpoint",C:0,c:"#898898"}],J=a=>{switch(a){case "#130c40":return"player";case "#fff300":return"villager";case "#76428a":return"merchant";case "#191919":return"wizzard";case "#df7126":return"spawner_deer";case "#d1d1d1":return"spawner_rabbit";case "#898898":return"spawner_wolf";default:return null}};class kb{constructor(a,b=1){this.A=a;this.vc=v(F,4);this.wc=
v(G,4);this.Cc=v(M,4);this.zc=v(Ya,4);this.sc=v(fa,4);this.Ac=v(H,4);this.Bc=g(oa,4);this.tc=g(S,4);this.xc=g(ca,4);this.yc=g(da,4);this.uc=g(aa,4);this.Ja=[0,0];this.Db=[];this.N=[];this.bc(b);this.Ya=this.ac()}ac(){var a={};for(var b in V)a[V[b].c]=V[b].C;b=[];for(var c=0;c<this.N.length;c++){b[c]=[];for(var d=0;d<this.N[c].length;d++){var e=a[this.N[d][c]];b[c][d]=null!=e&&0==e?0:1}}return b}Ta(a,b){return(a=Math.floor(a),b=Math.floor(b),0>a)||a>this.N.length-1||0>b||b>this.N.length-1||!this.N[a]?
!0:this.hc(this.N[b][a])}hc(a){var b=V.find(c=>c.c==a);return null==b?1:b.C}Yb(){var a=ha.width,b=q(3*a,3*ha.height),c=b.getContext("2d");for(let d=0;3>d;d++)for(let e=0;3>e;e++)c.drawImage($a,d*a,e*a);return c.drawImage(ab,a,0),c.drawImage(bb,2*a,2*a),c.drawImage(cb,2*a,a),c.drawImage(Za,0,0),c.drawImage(ha,a,a),b}Xb(a,b=32){var c=[],d=[],e={},f=a.length,h=a[0].length;c=Array(f).fill(null).map(()=>Array(h).fill(null));d=Array(f).fill(null).map(()=>Array(h).fill(null));var k=new r(32,32),m=[];ja(a,
(n,w,y)=>{c[w][y]=(z=>{switch(z){case "#99e550":return"grass";case "#d9a066":return"dirt";case "#dcdcdc":return"snow";case "#8a99f6":return"water";default:return null}})(n)||"grass";d[w][y]=(z=>{switch(z){case "#0d3702":return"tree";case "#bf0a0a":return"brick";case "#6a6a6a":return"steel";case "#a9a9a9":return"castle";case "#fbf236":return"house";case "#eca732":return"shop";case "#2e2b2b":return"cave";default:return null}})(n)||null;e[J(n)]||(e[J(n)]=[]);J(n)&&(e[J(n)].push([w,y]),"player"==J(n)?
k=new r(w*b,y*b):"villager"==J(n)?(m.push(new hb(this.A,new r(w*b,y*b))),console.log("villager added")):"merchant"==J(n)?(m.push(new ib(this.A,new r(w*b,y*b))),console.log("merchant added")):"wizzard"==J(n)&&(m.push(new jb(this.A,new r(w*b,y*b))),console.log("wizzard added")))});a=this.hb(c,b);f=this.hb(d,b);return{Sc:c,Pc:d,Fc:a,oc:f,Nc:e,qc:k,Db:m}}hb(a,b=32){var c=q(a.length*b,a.length*b),d=c.getContext("2d");return ja(a,(e,f,h)=>{var k=e?this.Ub(e):null;e&&k&&d.drawImage(k,h*b,f*b)}),c}Ub(a){switch(a){case "dirt":return this.vc;
case "grass":return this.wc;case "water":return this.Cc;case "snow":return this.zc;case "brick":return this.sc;case "steel":return this.Ac;case "tree":return this.Bc;case "castle":return this.tc;case "house":return this.xc;case "shop":return this.yc;case "cave":return this.uc;default:return null}}bc(a=1){var b=this.Yb();this.map=b;a*=16;this.N=b=Z(b);this.rb=b=this.Xb(b,a);this.Ja=this.rb.qc;this.ga=this.rb.Db;this.jc=L([b.Fc,b.oc])}}class lb{constructor(a,b,c,d,e){this.lb=a;this.g=new r(0,0);this.K=
c;this.w=b;this.vb=d;this.wb=e}Pb(a){this.g=new r(a.x,a.y)}ic(a){this.g=a}move(a){this.g.move(a,32)}Qb(a){var b=this.g.x-this.w/2,c=this.g.y-this.K/2;return Y(a,0>b?0:b,0>c?0:c,this.w,this.K)}v(a,b){let c;let d,e,f,h,k,m;var n=this.g.y-this.K/2;c=this.g.x-this.w/2;0>=c&&(c=0,this.g.x=c+this.w/2);0>=n&&(n=0,this.g.y=n+this.K/2);c+this.w>b.width&&(c=b.width-this.w,this.g.x=c+this.w/2);n+this.K>b.height&&(n=b.height-this.K,this.g.y=n+this.K/2);f=this.vb;h=this.wb;d=k=this.w;e=m=this.K;a.drawImage(b,
c,n,d,e,f,h,k,m)}Tb(a,b,c=32){var d=this.g.x-this.w/2,e=this.g.y-this.K/2;a=a+(0>d?0:d)-this.vb;b=b+(0>e?0:e)-this.wb;return a=Math.floor(a/c)*c,b=Math.floor(b/c)*c,new r(a,b)}}class za{constructor(){this.Y=6;this.ya=this.ua=1;this.za=10;this.va=this.fa=1}static clone(a){var b=new za;b.Y=a.Y;b.ua=a.ua;b.ya=a.ya;b.za=a.za;b.fa=a.fa;b.va=a.va}mb(a){switch(a){case "ARCHERY":return this.Y;case "HEALTH":return this.ua;case "POWER":return this.ya;case "SPEED":return this.za;case "STELTH":return this.fa;
case "LUCK":return this.va;default:return 0}}cc(){return[{n:"HEALTH",ta:this.ua},{n:"POWER",ta:this.ya},{n:"ARCHERY",ta:this.Y},{n:"SPEED",ta:this.za},{n:"STELTH",ta:this.fa},{n:"LUCK",ta:this.va}]}}class Aa{constructor(a){this.g=new r(a.x,a.y);this.m=1}v(a){a.drawImage(this.l,this.g.x,this.g.y)}}class O extends Aa{constructor(a){super(a.g);this.e=a;this.direction=a.direction;this.D=this.ia();this.l=this.D[this.direction];this.width=this.l.width;this.height=this.l.height;this.speed=this.width;this.Ib=
this.e.attributes.Y;this.tb=0;this.m=1}update(a){this.time=a;this.tb++;this.tb<this.Ib?(this.g.move(this.direction,this.speed),this.e.Eb(this)):this.m=0}ia(){if(O.S)return O.S;var a=this.e.h.M,b=16*a,c=B(g(na,a),b,b);a=R(c,0);b=R(c,2);var d=R(c,4);c=R(c,6);this.w=a.width;this.K=a.height;return O.S=[c,c,a,a,b,b,d,c],O.S}}class W extends Aa{constructor(a,b,c=1){super(b);this.h=a;this.value=c;this.l=this.Rb()}update(a){this.time=a;this.g.I(this.h.i.g)<1.5*this.h.o&&(this.h.i.U+=this.value,this.m=0)}v(a){super.v(a)}Rb(){if(W.eb)return W.eb;
var a=this.h.o;a=B(g(pa,this.h.M),a,a,!1);return W.eb=a,a}}class mb{constructor(a){this.h=a;this.m=this.ba=100;this.da=this.Z=this.points=this.U=this.qa=0;this.attributes=new za(1);this.g=new r(0,0);this.destination=new r(0,0);this.Ha=!1;this.time=0;this.direction=4;this.D=this.ia();this.l=this.D[4];this.Da=0;this.ra=[];this.cb=1E3}nb(){return this.h.o*(12-this.attributes.fa)}setPosition(a){this.g=new r(a.x,a.y);this.destination=new r(a.x,a.y)}update(a){this.Da=Math.max(this.Da-1,0);this.ra=this.ra.filter(b=>
0<b.m);[...this.ra].forEach(b=>{b.update&&b.update(a)});this.time=a;0!=this.g.I(this.destination)?(this.Ha=!0,this.g.nc(this.destination,this.l.width/2),this.h.Aa.Pb(this.g)):this.Ha=!1;this.B=this.h.B.filter(b=>b.g.I(this.g)<this.nb());0<this.B.length&&[...this.B].forEach(b=>{b.update&&b.update(this.time)})}Ob(){0<this.Da||(this.Da=20-2*this.attributes.Y,this.cb--,this.ra.push(new O(this)),this.pc())}Eb(a){var b=a.g;b=this.h.J.Ta(b.x/this.h.o,b.y/this.h.o);1!=b&&1!=b||2==b||(a.m=0,this.yb());for(let c=
0;c<this.h.B.length;c++)b=this.h.B[c],b.g.I(a.g)<this.h.o&&null!=b.type&&(b.m-=a.m,0>=b.m&&(this.h.B.push(new W(this.h,b.g,b.type+1)),4==b.type||5==b.type?this.qa-=b.type+1:this.qa+=b.type+1),this.yb(),a.m=0)}Pa(){var a=q(this.l.width,3),b=a.getContext("2d");b.fillStyle="green";this.m<this.ba/2&&(b.fillStyle="orange");this.m<this.ba/2&&(b.fillStyle="red");return b.fillRect(0,0,this.m/this.ba*this.l.width,3),a}v(a){a.drawImage(this.l,this.g.x,this.g.y);4==this.direction?a.drawImage(this.P,this.g.x+
this.l.width-this.P.width,this.g.y+this.l.height-1.5*this.P.height):6==this.direction?a.drawImage(ka(this.P),this.g.x+this.l.width-1.6*this.P.width,this.g.y+this.l.height-1.3*this.P.height):2==this.direction&&a.drawImage(this.P,this.g.x+this.l.width-1.2*this.P.width,this.g.y+this.l.height-1.3*this.P.height);[...this.ra].forEach(b=>{b.v&&b.v(a)});a.drawImage(this.Pa(),this.g.x,this.g.y);0<this.Bb&&(a.fillStyle="#ff0000aa",a.fillRect(this.g.x,this.g.y,this.l.width,this.l.height),this.Bb--);this.Jb(a)}Za(a,
b){this.direction=a=this.g.Oa(new r(a,b));this.l=this.D[a]}moveTo(a,b){if(!this.h.Ma(a,b)){var c=this.g.Oa(new r(a,b));this.direction=c;0!=this.g.I(new r(a,b))&&(this.l=this.D[c],this.move(c))}}move(a){a===this.direction?this.Ha||this.destination.move(a,this.width):this.direction=a}ia(){this.P=g(ma,this.h.M);var a=g(ba,this.h.M),b=g(sa,this.h.M),c=g(ta,this.h.M);return this.width=a.width,this.height=a.height,[b,b,c=B(c,this.width,this.height),a,a,a,ka(c,!0),b]}Ea(){return this.l}pc(){const a=new (window.AudioContext||
window.webkitAudioContext),b=a.createOscillator();b.type="sawtooth";b.frequency.setValueAtTime(500,a.currentTime);const c=a.createGain();c.gain.setValueAtTime(.2,a.currentTime);const d=a.createBiquadFilter();d.type="lowpass";d.frequency.setValueAtTime(500,a.currentTime);b.connect(c);c.connect(d);d.connect(a.destination);b.start();c.gain.exponentialRampToValueAtTime(.01,a.currentTime+.5);b.stop(a.currentTime+1)}yb(){const a=new (window.AudioContext||window.webkitAudioContext),b=a.createOscillator();
b.type="square";b.frequency.setValueAtTime(400,a.currentTime);const c=a.createGain();c.gain.setValueAtTime(.2,a.currentTime);const d=a.createBiquadFilter();d.type="lowpass";d.frequency.setValueAtTime(400,a.currentTime);b.connect(c);c.connect(d);d.connect(a.destination);b.start();c.gain.exponentialRampToValueAtTime(.01,a.currentTime+.5);b.stop(a.currentTime+1)}Jb(a){a.beginPath();a.arc(this.g.x+this.l.width/2,this.g.y+this.l.width/2,this.nb(),0,2*Math.PI,!1);a.strokeStyle="red";a.stroke()}}class nb{constructor(a){this.kc=
a;this.rows=a.length;this.cols=a[0].length}kb(a,b,c,d){a=Math.floor(a);b=Math.floor(b);c=Math.floor(c);d=Math.floor(d);const e=[],f=new Set,h={},k=Array(this.rows).fill(null).map(()=>Array(this.cols).fill(1/0));k[a][b]=0;const m=Array(this.rows).fill(null).map(()=>Array(this.cols).fill(1/0));m[a][b]=this.pb(a,b,c,d);for(e.push([a,b]);0<e.length;){a=this.Mb(e,m);const [n,w]=a;if(n===c&&w===d)return this.rc(h,a);e.splice(e.indexOf(a),1);f.add(`${n}-${w}`);b=this.Zb(n,w);for(const y of b){const [z,N]=
y;f.has(`${z}-${N}`)||this.kc[z][N]||(b=k[n][w]+1,b<k[z][N]&&(h[`${z}-${N}`]=a,k[z][N]=b,m[z][N]=b+this.pb(z,N,c,d),e.includes(y)||e.push(y)))}}return null}pb(a,b,c,d){return Math.abs(a-c)+Math.abs(b-d)}Mb(a,b){let c=a[0],d=b[c[0]][c[1]];for(const e of a){const [f,h]=e;b[f][h]<d&&(c=e,d=b[f][h])}return c}Zb(a,b){const c=[];return 0<a&&c.push([a-1,b]),a<this.rows-1&&c.push([a+1,b]),0<b&&c.push([a,b-1]),b<this.cols-1&&c.push([a,b+1]),c}rc(a,b){const c=[b];for(;a.hasOwnProperty(`${b[0]}-${b[1]}`);)b=
a[`${b[0]}-${b[1]}`],c.unshift(b);return c}}class ob extends P{constructor(a){super(a);this.ec()}ec(){this.H=1;this.wa=5;this.M=2;this.o=16*this.M;this.keyboard={};this.J=new kb(this,this.M);this.Wa=t(this.J.map,.7);this.i=new mb(this);this.i.setPosition(this.J.Ja?this.J.Ja:new r(224,224));this.Aa=new lb(this,this.s.F.width,this.s.F.height,0,0);this.Aa.ic(this.i.g);this.oa="robin hood";this.ga=[...this.J.ga];this.B=[];this.Ya=this.J.Ya;this.xb=new nb(this.Ya);this.Kc=this.Nb();this.jb();this.fb()}ob(a,
b){a=Math.floor(a);b=Math.floor(b);a=new r(a,b);for(var c=0;c<this.ga.length;c++)if((b=this.ga[c]).g.I(a)<this.o)return b;for(c=0;c<this.B.length;c++)if((b=this.B[c]).g.I(a)<this.o)return b;return null}Ma(){}Ma(a,b){return null!=this.ob(a,b)||this.J.Ta(a/this.o,b/this.o)}ha(){var a=q(this.s.F.width,this.s.F.height);let b=a.getContext("2d");b.clearRect(0,0,b.canvas.width,b.canvas.height);b.fillStyle="black";b.fillRect(0,0,b.canvas.width,b.canvas.height);var c=(e=>{if(!e)return null;let f=q(e.width,
e.height);return f.getContext("2d").drawImage(e,0,0),f})(this.J.jc),d=c.getContext("2d");if([...this.B].forEach(e=>{e.v&&e.v(d)}),[...this.ga].forEach(e=>{e.v&&e.v(d)}),this.i.v(d),this.W)for(let e in this.W)b.drawImage(t(this.i.l,.8),this.W[e][0]*this.o,this.W[e][1]*this.o);c=this.Aa.Qb(c);return b.drawImage(c,0,0),a}update(a){this.time=a;this.B=this.B.filter(b=>0<b.m);this.i.update(a);for(let b in this.keyboard)this.keyboard[b]&&this.gb(b);if(0>=this.i.m&&(alert("game over"),this.s.A=null,this.i.m=
100,this.s.Ia()),this.W&&0<this.W.length)a=this.W.shift(),this.i.g=new r(a[0]*this.o,a[1]*this.o);0>=this.B.length&&(this.wa+=5,this.H++,this.fb())}fb(){for(let a=0;a<this.wa&&!(this.B.length>this.wa);a++){let b=new I(this,K(0,3));this.B.push(b)}}Nb(){var a=[];for(let c=0;c<this.J.N.length;c++)for(let d=0;d<this.J.N.length;d++){var b=new r(c*this.o,d*this.o);this.J.Ta(c,d)||a.push(b)}return a}Lb(){var a=this.jb(8,25);return 0<a.length?a[K(0,a.length)]:new r(this.o,this.o)}jb(a=8,b=13){var c=this.Kc;
c=(c=c.filter(f=>f.I(this.i.g)>this.o*a)).filter(f=>f.I(this.i.g)<this.o*b);var d=[];for(let f in c){var e=!0;for(let h=0;h<this.B.length;h++)if(this.B[h].g.I(new r(c[f].x,c[f].y))<this.o){e=!1;break}e&&d.push(c[f])}return c}fc(){var a=this.i.g.sb(this.i.direction,this.o);(a=this.ob(a.x,a.y))&&a.Ga?a.Ga():console.log(a)}gb(a){if(" "!==a&&"space"!==a||this.i.Ob(),"e"===a)this.fc(),this.keyboard={};else if("q"===a)this.keyboard.q=!1,this.s.Ia();else if(!this.i.Ha){var b=this.i.g.clone(),c=!1;if("s"===
a||"ArrowDown"===a?(b.move(4,this.i.height),c=!0):"w"===a||"ArrowUp"===a?(b.move(0,this.i.height),c=!0):"d"===a||"ArrowRight"===a?(b.move(2,this.i.height),c=!0):"a"!==a&&"ArrowLeft"!==a||(b.move(6,this.i.height),c=!0),c)a=this.i.g.Oa(b),this.i.Za(b.x,b.y),a!=this.i.direction?(this.i.Za(b.x,b.y),this.keyboard={}):this.Ma(b.x,b.y)?this.i.Za(b.x,b.y):this.i.moveTo(b.x,b.y)}}v(a){a.clearRect(0,0,a.canvas.width,a.canvas.height);a.fillStyle="black";a.fillRect(0,0,a.canvas.width,a.canvas.height);a.fillStyle=
"green";a.font="16px Arial";a.drawImage(this.ha(),0,0);a.fillStyle="#004b52d6";a.fillRect(0,0,a.canvas.width,48);a.fillStyle="#ffffff";a.fillText("\u2665 "+E(this.i.m),15,15);a.fillText("\u2295 "+E(this.i.qa),15,30);a.fillText("\u263a"+E(this.i.points),15,45);a.fillText("\u27b9\t"+E(this.i.cb),96,15);a.fillText("\u0556\t"+E(this.i.U),96,30);a.fillText("Mobs "+E(this.B.length),192,15);a.fillText("LVL "+E(this.H),192,30);a.drawImage(Wa,316,4);a.drawImage(Xa,316,20);a.fillText("   "+E(this.i.Z),320,
15);a.fillText("   "+E(this.i.da),320,30);a.drawImage(this.Wa,0,a.canvas.height-this.Wa.height);r.Na(a,this.i.g.x/this.o,a.canvas.height-this.Wa.height+this.i.g.y/this.o,3,"green")}click(a){var b=this.o;a=this.Aa.Tb(a.offsetX,a.offsetY,b);a=new r(a.x,a.y);b=this.xb.kb(this.i.g.x/b,this.i.g.y/b,a.x/b,a.y/b);console.log(b)}control(a){this.gb(a)}la(a){this.keyboard[a.key]=!0}aa(a){this.keyboard[a.key]=!1}}class pb{constructor(a){return this.target=a,this.bb=[],!!a.addEventListener}sub(a){this.bb.push(a)}clear(){this.bb=
[]}fireEvent(a){var b=this.bb,c;for(c in b)b[c].notify&&b[c].notify(a)}}class qb extends P{constructor(a){super(a);this.D={ab:H,ea:M,ka:G,Ca:F,Va:T,i:ya};this.X=400>this.s.F.width?32:100;this.A=this.s.A;this.attributes=this.A.i.attributes;console.log(this.A);this.j=[];this.La=this.attributes.cc();for(let b in this.La)this.j.push({x:this.X,y:192+32*b,k:this.La[b].n});console.log(this.La);console.log(this.j);this.u=0;this.buffer=this.ha()}ha(){var a=q(this.s.F.width,this.s.F.height),b=a.getContext("2d"),
c=this.j[0],d=c.x+20;b.drawImage(this.ja("\u2588\u2588\u2588\u2588 STATISTICS \u2588\u2588\u2588\u2588"),d,c.y-64);b.drawImage(this.ja("POINTS"),d,c.y-32);for(let e in this.j)c=this.j[e],b.drawImage(this.ja(`${c.k} `),d,c.y);return a}update(a){this.time=a}ja(a){return C.get(a,24,"white",this.D.ka)}v(a){a.clearRect(0,0,a.canvas.width,a.canvas.height);a.fillStyle="black";a.fillRect(0,0,a.canvas.width,a.canvas.height);a.fillStyle="green";a.font="16px Arial";var b=this.j[0],c=b.x+20;a.drawImage(this.buffer,
0,0);a.drawImage(this.ja(`${this.A.i.points}`),c+150,b.y-32);for(let d in this.j)b=this.j[d],a.drawImage(this.ja(`${this.attributes.mb(b.k)}`),c+150,b.y);a.drawImage(this.D.i,this.j[this.u].x,this.j[this.u].y+4);a.fillText("Time "+this.time,20,20)}click(){}control(a){if("q"===a)this.s.Ia();else if("w"===a||"ArrowUp"===a)0==this.u?this.u=this.j.length-1:this.u=Q(this.u-1)%this.j.length;else if("s"===a||"ArrowDown"===a)this.u=Q(this.u+1)%this.j.length;else if("d"==a||"ArrowRight"==a){if(0>=this.A.i.points)return void alert("no points to use");
this.u;a=this.j[this.u].k;10<=this.A.i.attributes.mb(a)?alert("level 10 reached"):confirm("spend points on upgrading skill "+a)&&(this.A.i.attributes[a]+=1,--this.A.i.points)}}la(){}aa(a){this.control(a.key)}}class rb{constructor(a){this.F=a;this.Ba=document.querySelector(a.Ba);this.canvas=Object.assign(document.createElement("canvas"),{width:a.width,height:a.height,className:"gamecanvas"});this.Ba.appendChild(this.canvas);this.G=new pb(document);["keydown","keyup"].forEach(b=>{document.addEventListener(b,
c=>{this.G.fireEvent({name:b,event:c})})});this.canvas.addEventListener("click",b=>{this.G.fireEvent({name:"click",event:b})});this.Hc();400>this.F.width&&(a.framerate/=2);this.Ka=new Ea(a.framerate,this,!0);this.Kb()}update(a){if(0==this.Ka.p)if(this.time=a,this.h)try{this.h.update(a),this.h.v(this.canvas.getContext("2d"))}catch(b){console.log(b),this.Ka.stop()}else this.Ka.stop()}Hc(){this.h=new eb(this);this.G.clear();this.G.sub(this.h)}Ia(){this.qb||(this.qb=new gb(this));this.h=this.qb;this.G.clear();
this.G.sub(this.h)}Gc(){this.A||(this.A=new ob(this));this.h=this.A;this.G.clear();this.G.sub(this.h)}Ic(){this.Cb||(this.Cb=new qb(this));this.h=this.Cb;this.G.clear();this.G.sub(this.h)}Kb(){if(!(400<this.F.width)){var a=Object.assign(document.createElement("div"),{className:"controls_container"});a.innerHTML="<table>\n        <tr><td id='q'>q</td><td id='w'>w</td><td id='e'>e</td><td class=\"padding\"></td><td id='space'>space</td> </tr>\n        <tr><td id='a'>a</td><td id='s'>s</td><td id='d'>d</td><td class=\"padding\"></td><td id='f'>f</td></tr></table>";
this.Ba.appendChild(a);var b=((c,d=document)=>d.querySelectorAll(c))(".controls_container td");for(let c=0;c<b.length;c++)b[c].addEventListener("click",()=>{this.G.fireEvent({name:"control",event:{key:b[c].id}})}),b[c].addEventListener("touchstart",()=>{this.G.fireEvent({name:"controlts",event:{key:b[c].id}})}),b[c].addEventListener("touchend",()=>{this.G.fireEvent({name:"controlte",event:{key:b[c].id}})})}}}const sb={Ba:".canvas_container",Rc:32,Lc:1,framerate:1/30,width:32*parseInt(window.innerWidth/
32),height:576,Mc:"Assets",Qc:ia("#spriteSheetMain")};class tb extends rb{constructor(a){super(a)}}document.addEventListener("DOMContentLoaded",function(){window.lb||(window.lb=new tb(sb))},!1)})();
